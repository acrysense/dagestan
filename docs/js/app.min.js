document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px");let t=document.querySelector(".header"),s=t?t.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--headerh",s+"px");let r=document.querySelector(".filters__wrap--active > .filters__header"),i=r?r.getBoundingClientRect().height:0;function l(e){let t=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,s=function(e){let t=document.getElementById(e),s=t.offsetTop,r=t;for(;r.offsetParent&&r.offsetParent!=document.body;)r=r.offsetParent,s+=r.offsetTop;return s}(e),r=s>t?s-t:t-s;if(r<100)return void scrollTo(0,s);let i=Math.round(r/100);i>=20&&(i=20);let l=Math.round(r/25),c=s>t?t+l:t-l,n=0;if(s>t)for(let e=t;e<s;e+=l)setTimeout("window.scrollTo(0, "+c+")",n*i),c+=l,c>s&&(c=s),n++;else for(let e=t;e>s;e-=l)setTimeout("window.scrollTo(0, "+c+")",n*i),c-=l,c<s&&(c=s),n++}document.documentElement.style.setProperty("--filtersheaderh",i+"px"),window.addEventListener("resize",()=>{let e=.01*window.innerHeight,s=t?t.getBoundingClientRect().height:0,r=document.querySelector(".filters__wrap--active > .filters__header"),i=r?r.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--vh",e+"px"),document.documentElement.style.setProperty("--headerh",s+"px"),document.documentElement.style.setProperty("--filtersheaderh",i+"px")});const c=document.querySelectorAll('a[href^="#"]');c&&c.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),setTimeout(()=>{e.getAttribute("href").length>1&&l(e.getAttribute("href").slice(1))},500)})});document.querySelectorAll(".select").forEach(e=>{new SlimSelect({select:e})});const n=document.querySelector(".hamburger"),d=document.querySelector(".menu"),o=document.querySelector(".menu__start"),a=document.querySelector(".menu__results"),u=document.querySelector(".menu__search"),m=document.querySelector(".menu__input"),_=document.querySelector(".menu__close");n&&n.addEventListener("click",e=>{e.preventDefault(),d.classList.add("menu--active"),document.body.classList.add("scroll-disabled")}),_&&_.addEventListener("click",e=>{e.preventDefault(),m.classList.contains("menu__input--active")&&m.value.length<1&&m.classList.remove("menu__input--active"),d.classList.remove("menu--active"),document.body.classList.remove("scroll-disabled")}),u&&u.addEventListener("click",e=>{e.preventDefault(),m.classList.add("menu__input--active")}),m&&m.addEventListener("input",()=>{m.value.length>0?(o.classList.add("menu__start--hidden"),a.classList.add("menu__results--active")):(o.classList.remove("menu__start--hidden"),a.classList.remove("menu__results--active"))});const p=document.querySelectorAll(".c-liked");p&&p.forEach(e=>{e.addEventListener("click",()=>{e.classList.add("c-liked--active")})});const f=document.querySelectorAll(".tabs__item");f&&f.forEach((e,t)=>{e.addEventListener("click",()=>{document.querySelectorAll(".tabs__item").forEach(e=>e.classList.remove("tabs__item--active")),document.querySelectorAll(".tabs__wrapper").forEach(e=>e.classList.remove("tabs__wrapper--active")),e.classList.add("tabs__item--active"),document.querySelectorAll(".tabs__wrapper")[t].classList.add("tabs__wrapper--active")})});const h=document.querySelectorAll(".gallery__btn");h&&h.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.closest(".gallery__wrapper");s.classList.contains("gallery__wrapper--hidden")?(s.classList.remove("gallery__wrapper--hidden"),s.classList.add("gallery__wrapper--visible")):(s.classList.add("gallery__wrapper--hidden"),s.classList.remove("gallery__wrapper--visible"))})});const v=document.querySelectorAll(".filters__wrap"),y=document.querySelectorAll(".filters__back"),w=document.querySelector(".filters__more"),L=document.querySelector(".filters__close"),b=document.querySelector(".filter__checkbox-list"),g=document.querySelector(".filter__checkbox-more");y&&y.forEach((e,t)=>{e.addEventListener("click",()=>{const t=e.closest(".filters__wrap");e.setAttribute("disabled","disabled"),t.classList.add("filters__wrap--hidden"),t.classList.remove("filters__wrap--active"),v[0].classList.add("filters__wrap--active"),setTimeout(()=>{v.forEach(e=>e.classList.remove("filters__wrap--hidden"));let e=document.querySelector(".filters__wrap--active > .filters__header"),t=e?e.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--filtersheaderh",t+"px")},400),setTimeout(()=>{e.removeAttribute("disabled")},800)})}),w&&w.addEventListener("click",e=>{e.preventDefault();const t=w.closest(".filters__wrap");w.setAttribute("disabled","disabled"),L.setAttribute("disabled","disabled"),t.classList.add("filters__wrap--hidden"),t.classList.remove("filters__wrap--active"),v[2].classList.add("filters__wrap--active"),setTimeout(()=>{v.forEach(e=>e.classList.remove("filters__wrap--hidden"));let e=document.querySelector(".filters__wrap--active > .filters__header"),t=e?e.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--filtersheaderh",t+"px")},400),setTimeout(()=>{w.removeAttribute("disabled"),L.removeAttribute("disabled")},800)}),L&&L.addEventListener("click",e=>{e.preventDefault();const t=L.closest(".filters__wrap");L.setAttribute("disabled","disabled"),w.setAttribute("disabled","disabled"),t.classList.add("filters__wrap--hidden"),t.classList.remove("filters__wrap--active"),v[1].classList.add("filters__wrap--active"),setTimeout(()=>{v.forEach(e=>e.classList.remove("filters__wrap--hidden"));let e=document.querySelector(".filters__wrap--active > .filters__header"),t=e?e.getBoundingClientRect().height:0;document.documentElement.style.setProperty("--filtersheaderh",t+"px")},400),setTimeout(()=>{L.removeAttribute("disabled"),w.removeAttribute("disabled")},800)}),g&&g.addEventListener("click",e=>{e.preventDefault(),b.classList.contains("filter__checkbox-list--hidden")?(b.classList.remove("filter__checkbox-list--hidden"),g.innerHTML="Скрыть"):(b.classList.add("filter__checkbox-list--hidden"),g.innerHTML="Показать ещё")});const E=document.querySelector(".upcoming-events__slider .swiper-container"),S=document.querySelector(".gallery-slider__slider .swiper-container"),q=document.querySelector(".image-slider .swiper-container"),A=document.querySelectorAll(".image-slider__description");if(E){new Swiper(E,{slidesPerView:"auto",speed:1e3,spaceBetween:20})}if(S){new Swiper(S,{slidesPerView:1,speed:1e3,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},pagination:{el:".swiper-pagination",clickable:!0}})}if(q){const e=new Swiper(q,{slidesPerView:"auto",loop:!0,speed:1e3,spaceBetween:20,navigation:{nextEl:q.closest(".image-slider").querySelector(".swiper-button-next")}});e.on("slideChange",(function(){let t=e.realIndex,s=e.previousIndex-e.slides.length/3;s<0?s=0:s>A.length-1&&(s=A.length-1),A[s].classList.add("image-slider__description--hidden"),A[s].classList.remove("image-slider__description--active"),A[t].classList.add("image-slider__description--active"),setTimeout(()=>A.forEach(e=>e.classList.remove("image-slider__description--hidden")),400)}))}}));